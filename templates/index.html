{% extends "base.html" %}

{% block title %}Premium Legal Research Dashboard - CourtLens{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <!-- Premium Hero Section -->
        <div class="hero-section text-center py-5 mb-5">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-10">
                        <h1 class="display-3 text-white mb-4" style="font-family: var(--font-heading); font-weight: 800;">
                            <i class="fas fa-balance-scale me-3" style="color: #d69e2e;"></i>
                            Court<span style="color: #d69e2e;">Lens</span>
                        </h1>
                        <p class="lead text-white mb-5" style="font-size: 1.3rem; opacity: 0.9;">
                            Premium Delhi High Court Legal Research Portal
                            <br><small style="font-size: 1rem; opacity: 0.7;">Advanced Case Search & Data Analytics Platform</small>
                        </p>
                        
                        <!-- Premium Quick Actions -->
                        <div class="row g-4 mb-5">
                            <div class="col-md-4">
                                <div class="card border-0 bg-transparent text-white h-100">
                                    <div class="card-body text-center">
                                        <div class="feature-icon mb-3">
                                            <i class="fas fa-search"></i>
                                        </div>
                                        <h5 class="fw-bold">Advanced Search</h5>
                                        <p class="small opacity-75">Comprehensive case lookup with detailed filters</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card border-0 bg-transparent text-white h-100">
                                    <div class="card-body text-center">
                                        <div class="feature-icon mb-3">
                                            <i class="fas fa-chart-line"></i>
                                        </div>
                                        <h5 class="fw-bold">Analytics</h5>
                                        <p class="small opacity-75">Real-time insights and data visualization</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card border-0 bg-transparent text-white h-100">
                                    <div class="card-body text-center">
                                        <div class="feature-icon mb-3">
                                            <i class="fas fa-shield-alt"></i>
                                        </div>
                                        <h5 class="fw-bold">Secure Access</h5>
                                        <p class="small opacity-75">Professional-grade security and compliance</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Premium CTA Buttons -->
                        <div class="d-flex gap-3 justify-content-center flex-wrap">
                            <a href="{{ url_for('search_case') }}" class="btn btn-primary btn-lg px-5 py-3 shadow-lg" 
                               style="background: linear-gradient(135deg, #007bff 0%, #0056b3 100%); border: none; transform: translateY(-2px); transition: all 0.3s ease;"
                               onmouseover="this.style.transform='translateY(-4px) scale(1.05)'"
                               onmouseout="this.style.transform='translateY(-2px) scale(1)'">
                                <i class="fas fa-search me-2"></i>Search Delhi High Court Cases
                            </a>
                            <a href="{{ url_for('search_history') }}" class="btn btn-outline-light btn-lg px-5 py-3" 
                               style="border-color: rgba(255,255,255,0.5); transition: all 0.3s ease;"
                               onmouseover="this.style.backgroundColor='rgba(255,255,255,0.1)'"
                               onmouseout="this.style.backgroundColor='transparent'">
                                <i class="fas fa-history me-2"></i>View Search History
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Premium Features Section -->
<div class="row section-padding">
    <div class="col-12">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold" style="font-family: var(--font-heading); color: var(--primary-dark);">
                Professional Legal Research Tools
            </h2>
            <p class="lead text-muted">Comprehensive suite for legal professionals and researchers</p>
        </div>
    </div>
</div>

<div class="row g-4 mb-5">
    <!-- Feature Cards -->
    <div class="col-lg-4">
        <div class="card h-100 card-spacing">
            <div class="card-body text-center p-4">
                <div class="mb-4">
                    <i class="fas fa-search-plus text-primary" style="font-size: 3rem;"></i>
                </div>
                <h5 class="fw-bold mb-3">Case Search & Discovery</h5>
                <p class="text-muted mb-4">Search through Delhi High Court cases with advanced filters including case type, year, parties, and more.</p>
                <a href="{{ url_for('search_case') }}" class="btn btn-outline-primary">
                    <i class="fas fa-arrow-right me-1"></i>Explore Cases
                </a>
            </div>
        </div>
    </div>
    
    <div class="col-lg-4">
        <div class="card h-100 card-spacing">
            <div class="card-body text-center p-4">
                <div class="mb-4">
                    <i class="fas fa-file-alt text-success" style="font-size: 3rem;"></i>
                </div>
                <h5 class="fw-bold mb-3">Document Access</h5>
                <p class="text-muted mb-4">Direct access to court orders, judgments, and other legal documents with secure viewing capabilities.</p>
                <button class="btn btn-outline-success" disabled>
                    <i class="fas fa-download me-1"></i>Access Documents
                </button>
            </div>
        </div>
    </div>
    
    <div class="col-lg-4">
        <div class="card h-100 card-spacing">
            <div class="card-body text-center p-4">
                <div class="mb-4">
                    <i class="fas fa-history text-info" style="font-size: 3rem;"></i>
                </div>
                <h5 class="fw-bold mb-3">Search History & Analytics</h5>
                <p class="text-muted mb-4">Track your research activities with detailed search history and performance analytics.</p>
                <a href="{{ url_for('search_history') }}" class="btn btn-outline-info">
                    <i class="fas fa-chart-bar me-1"></i>View Analytics
                </a>
            </div>
        </div>
    </div>
</div>
                                        <option value="">Select Year</option>
                                    </select>
                                </div>
                                <div class="col-12 text-center">
                                    <button type="submit" class="btn btn-primary btn-lg px-5">
                                        <i class="fas fa-search me-2"></i>Search Cases
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Statistics Cards -->
<div class="row mb-5">
    <div class="col-md-4">
        <div class="card bg-gradient text-white h-100 shadow-lg" 
             style="background: linear-gradient(135deg, #007bff 0%, #0056b3 100%); cursor: pointer; transition: all 0.3s ease;"
             onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 30px rgba(0,123,255,0.3)'"
             onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.1)'"
             onclick="window.location.href='{{ url_for('search_case') }}'">
            <div class="card-body d-flex align-items-center">
                <div class="flex-grow-1">
                    <h2 class="card-title h3 mb-0 fw-bold">{{ stats.total_searches }}</h2>
                    <p class="card-text opacity-90">Total Searches</p>
                </div>
                <div class="ms-3">
                    <i class="fas fa-search fa-3x opacity-75"></i>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-4">
        <div class="card bg-gradient text-white h-100 shadow-lg" 
             style="background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%); cursor: pointer; transition: all 0.3s ease;"
             onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 30px rgba(40,167,69,0.3)'"
             onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.1)'"
             onclick="window.location.href='{{ url_for('search_history') }}'">
            <div class="card-body d-flex align-items-center">
                <div class="flex-grow-1">
                    <h2 class="card-title h3 mb-0 fw-bold">{{ stats.successful_searches }}</h2>
                    <p class="card-text opacity-90">Successful Searches</p>
                </div>
                <div class="ms-3">
                    <i class="fas fa-check-circle fa-3x opacity-75"></i>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-4">
        <div class="card bg-gradient text-white h-100 shadow-lg" 
             style="background: linear-gradient(135deg, #17a2b8 0%, #138496 100%); cursor: pointer; transition: all 0.3s ease;"
             onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 30px rgba(23,162,184,0.3)'"
             onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.1)'">
            <div class="card-body d-flex align-items-center">
                <div class="flex-grow-1">
                    <h2 class="card-title h3 mb-0 fw-bold">{{ stats.success_rate }}%</h2>
                    <p class="card-text opacity-90">Success Rate</p>
                </div>
                <div class="ms-3">
                    <i class="fas fa-chart-line fa-3x opacity-75"></i>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Features Section -->
<div class="row mb-5">
    <div class="col-12">
        <h2 class="h3 mb-4">
            <i class="fas fa-star text-warning me-2"></i>Key Features
        </h2>
    </div>
    
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card h-100 border-0 shadow-sm">
            <div class="card-body text-center">
                <div class="feature-icon mb-3">
                    <i class="fas fa-shield-alt fa-3x text-primary"></i>
                </div>
                <h5 class="card-title">Security Handled</h5>
                <p class="card-text text-muted">
                    Automatic CSRF token handling and CAPTCHA solving
                </p>
            </div>
        </div>
    </div>
    
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card h-100 border-0 shadow-sm">
            <div class="card-body text-center">
                <div class="feature-icon mb-3">
                    <i class="fas fa-eye fa-3x text-success"></i>
                </div>
                <h5 class="card-title">OCR CAPTCHA</h5>
                <p class="card-text text-muted">
                    Automatic CAPTCHA recognition with manual fallback
                </p>
            </div>
        </div>
    </div>
    
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card h-100 border-0 shadow-sm">
            <div class="card-body text-center">
                <div class="feature-icon mb-3">
                    <i class="fas fa-file-pdf fa-3x text-danger"></i>
                </div>
                <h5 class="card-title">PDF Downloads</h5>
                <p class="card-text text-muted">
                    Direct download of court orders and judgments
                </p>
            </div>
        </div>
    </div>
    
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card h-100 border-0 shadow-sm">
            <div class="card-body text-center">
                <div class="feature-icon mb-3">
                    <i class="fas fa-database fa-3x text-info"></i>
                </div>
                <h5 class="card-title">Data Storage</h5>
                <p class="card-text text-muted">
                    All searches logged and case data preserved
                </p>
            </div>
        </div>
    </div>
</div>

<!-- Recent Searches -->
{% if recent_searches %}
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">
                    <i class="fas fa-clock me-2"></i>Recent Searches
                </h5>
                <a href="{{ url_for('search_history') }}" class="btn btn-outline-primary btn-sm">
                    View All
                </a>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-hover mb-0">
                        <thead class="table-light">
                            <tr>
                                <th>Search Parameters</th>
                                <th>Status</th>
                                <th>Results</th>
                                <th>Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for search in recent_searches %}
                            <tr>
                                <td>
                                    <span class="badge bg-secondary me-1">{{ search.search_params }}</span>
                                    <span class="text-muted">Case Search</span>
                                </td>
                                <td>
                                    {% if search.success %}
                                        <span class="badge bg-success">
                                            <i class="fas fa-check me-1"></i>Success
                                        </span>
                                    {% else %}
                                        <span class="badge bg-danger">
                                            <i class="fas fa-times me-1"></i>Failed
                                        </span>
                                    {% endif %}
                                </td>
                                <td>
                                    {% if search.success %}
                                        <span class="badge bg-info">{{ search.results_count }} cases</span>
                                    {% else %}
                                        <small class="text-muted">{{ search.error_message[:50] }}...</small>
                                    {% endif %}
                                </td>
                                <td>
                                    <small class="text-muted">
                                        {{ search.timestamp.strftime('%Y-%m-%d %H:%M') if search.timestamp else 'N/A' }}
                                    </small>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}

<!-- Quick Start Guide -->
<div class="row mt-5">
    <div class="col-12">
        <div class="card bg-light">
            <div class="card-body">
                <h5 class="card-title">
                    <i class="fas fa-rocket me-2"></i>Quick Start Guide
                </h5>
                <div class="row">
                    <div class="col-md-6">
                        <ol class="list-unstyled">
                            <li class="mb-2">
                                <span class="badge bg-primary rounded-pill me-2">1</span>
                                Click "Search Cases" to access the search form
                            </li>
                            <li class="mb-2">
                                <span class="badge bg-primary rounded-pill me-2">2</span>
                                Select Case Type, enter Case Number and Year
                            </li>
                            <li class="mb-2">
                                <span class="badge bg-primary rounded-pill me-2">3</span>
                                CAPTCHA will be solved automatically
                            </li>
                        </ol>
                    </div>
                    <div class="col-md-6">
                        <ol class="list-unstyled" start="4">
                            <li class="mb-2">
                                <span class="badge bg-primary rounded-pill me-2">4</span>
                                View case details including parties and dates
                            </li>
                            <li class="mb-2">
                                <span class="badge bg-primary rounded-pill me-2">5</span>
                                Download available PDF orders/judgments
                            </li>
                            <li class="mb-2">
                                <span class="badge bg-primary rounded-pill me-2">6</span>
                                All searches are logged for future reference
                            </li>
                        </ol>
                    </div>
                </div>
                
                <div class="mt-3">
                    <a href="{{ url_for('search_case') }}" class="btn btn-primary">
                        <i class="fas fa-play me-2"></i>Start Searching
                    </a>
                    <a href="https://delhihighcourt.nic.in" target="_blank" class="btn btn-outline-secondary ms-2">
                        <i class="fas fa-external-link-alt me-2"></i>Visit Court Website
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
// Add some interactive elements
document.addEventListener('DOMContentLoaded', function() {
    // Animate statistics on load
    const counters = document.querySelectorAll('[data-counter]');
    counters.forEach(counter => {
        const target = parseInt(counter.textContent);
        const increment = target / 50;
        let current = 0;
        
        const timer = setInterval(() => {
            current += increment;
            counter.textContent = Math.floor(current);
            
            if (current >= target) {
                counter.textContent = target;
                clearInterval(timer);
            }
        }, 50);
    });
});
</script>
{% endblock %}
